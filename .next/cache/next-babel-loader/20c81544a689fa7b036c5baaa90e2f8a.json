{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect, useState } from 'react';\nimport ProductRepository from '~/repositories/ProductRepository';\nimport Link from 'next/link';\nimport { Checkbox } from 'antd';\nimport { Radio, Input } from 'antd';\nimport { useRouter } from 'next/router';\n\nconst WidgetShopBrands = () => {\n  const Router = useRouter();\n  const {\n    slug\n  } = Router.query;\n  const {\n    0: brands,\n    1: setBrands\n  } = useState(null);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n\n  async function getCategories() {\n    setLoading(true);\n    const responseData = await ProductRepository.getBrands();\n\n    if (responseData) {\n      let brandsGroup = [];\n\n      if (responseData.length > 0) {\n        responseData.forEach(brand => {\n          brandsGroup.push({\n            id: brand.id,\n            value: brand.slug,\n            label: brand.name\n          });\n        });\n      }\n\n      setBrands(brandsGroup);\n      setTimeout(function () {\n        setLoading(false);\n      }.bind(this), 250);\n    }\n  }\n\n  function handleSelectBrand(e) {\n    Router.push(`/brand/${e.target.value}`);\n  }\n\n  useEffect(() => {\n    getCategories();\n  }, []); // Views\n\n  let brandsView;\n\n  if (!loading) {\n    if (brands && brands.length > 0) {\n      const items = brands.map(item => /*#__PURE__*/_jsx(\"li\", {\n        children: /*#__PURE__*/_jsx(Link, {\n          href: `shop/${item.slug}`,\n          children: item.name\n        })\n      }, item.id));\n      brandsView = /*#__PURE__*/_jsx(\"ul\", {\n        className: \"ps-list--brands\",\n        children: items\n      });\n    } else {}\n  } else {\n    brandsView = /*#__PURE__*/_jsx(\"p\", {\n      children: \"Loading...\"\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(\"aside\", {\n    className: \"widget widget_shop widget_shop--brand\",\n    children: [/*#__PURE__*/_jsx(\"h4\", {\n      className: \"widget-title\",\n      children: \"By Brands\"\n    }), /*#__PURE__*/_jsx(\"figure\", {\n      children: /*#__PURE__*/_jsx(Radio.Group, {\n        defaultValue: slug,\n        options: brands,\n        onChange: handleSelectBrand\n      })\n    })]\n  });\n};\n\nexport default WidgetShopBrands;","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport Slider from 'react-slick';\nimport Lightbox from 'react-image-lightbox';\nimport NextArrow from '~/components/elements/carousel/NextArrow';\nimport PrevArrow from '~/components/elements/carousel/PrevArrow';\nimport { baseUrl } from '~/repositories/Repository';\n\nclass ThumbnailHasVariant extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"handleOpenLightbox\", (e, imageIndex) => {\n      e.preventDefault();\n      this.setState({\n        photoIndex: imageIndex,\n        isOpen: true\n      });\n    });\n\n    this.state = {\n      galleryCarousel: null,\n      variantCarousel: null,\n      photoIndex: 0,\n      isOpen: false\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      galleryCarousel: this.slider1,\n      variantCarousel: this.slider2\n    });\n  }\n\n  render() {\n    const gallerySetting = {\n      dots: false,\n      infinite: true,\n      speed: 500,\n      slidesToShow: 1,\n      slidesToScroll: 1,\n      nextArrow: /*#__PURE__*/_jsx(NextArrow, {}),\n      prevArrow: /*#__PURE__*/_jsx(PrevArrow, {})\n    };\n    const variantSetting = {\n      responsive: [{\n        breakpoint: 1024,\n        settings: {\n          slidesToShow: 4,\n          dots: false,\n          arrows: false,\n          vertical: false,\n          infinite: false\n        }\n      }, {\n        breakpoint: 768,\n        settings: {\n          slidesToShow: 4,\n          dots: false,\n          arrows: false,\n          vertical: false,\n          infinite: false\n        }\n      }, {\n        breakpoint: 480,\n        settings: {\n          slidesToShow: 4,\n          dots: false,\n          arrows: false,\n          vertical: false,\n          infinite: false\n        }\n      }]\n    };\n    const {\n      product\n    } = this.props;\n    const {\n      photoIndex,\n      isOpen\n    } = this.state;\n    const productImages = [];\n    product.images.map(variant => {\n      productImages.push(`${baseUrl}${variant.url}`);\n    });\n    return /*#__PURE__*/_jsxs(\"div\", {\n      className: \"ps-product__thumbnail\",\n      \"data-vertical\": \"true\",\n      children: [/*#__PURE__*/_jsx(\"figure\", {\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"ps-wrapper\",\n          children: /*#__PURE__*/_jsx(Slider, _objectSpread(_objectSpread({}, gallerySetting), {}, {\n            ref: slider => this.slider1 = slider,\n            asNavFor: this.state.variantCarousel,\n            className: \"ps-product__gallery ps-carousel inside\",\n            children: product.images.map((variant, index) => /*#__PURE__*/_jsx(\"div\", {\n              className: \"item\",\n              children: /*#__PURE__*/_jsx(\"a\", {\n                href: \"#\",\n                onClick: e => this.handleOpenLightbox(e, index),\n                children: /*#__PURE__*/_jsx(\"img\", {\n                  src: `${baseUrl}${variant.url}`,\n                  alt: \"martfury-image\"\n                })\n              })\n            }, variant.id))\n          }))\n        })\n      }), /*#__PURE__*/_jsx(Slider, _objectSpread(_objectSpread({\n        asNavFor: this.state.galleryCarousel,\n        ref: slider => this.slider2 = slider,\n        swipeToSlide: true,\n        arrows: false,\n        slidesToShow: 3,\n        vertical: true,\n        focusOnSelect: true\n      }, variantSetting), {}, {\n        className: \"ps-product__variants\",\n        children: product.images.map(variant => /*#__PURE__*/_jsx(\"div\", {\n          className: \"item\",\n          children: /*#__PURE__*/_jsx(\"img\", {\n            src: `${baseUrl}${variant.url}`,\n            alt: \"martfury-image\"\n          })\n        }, variant.id))\n      })), isOpen && /*#__PURE__*/_jsx(Lightbox, {\n        mainSrc: productImages[photoIndex],\n        nextSrc: productImages[(photoIndex + 1) % productImages.length],\n        prevSrc: productImages[(photoIndex + productImages.length - 1) % productImages.length],\n        onCloseRequest: () => this.setState({\n          isOpen: false\n        }),\n        onMovePrevRequest: () => this.setState({\n          photoIndex: (photoIndex + productImages.length - 1) % productImages.length\n        }),\n        onMoveNextRequest: () => this.setState({\n          photoIndex: (photoIndex + 1) % productImages.length\n        })\n      })]\n    });\n  }\n\n}\n\nexport default ThumbnailHasVariant;","map":null,"metadata":{},"sourceType":"module"}
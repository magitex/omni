{"ast":null,"code":"import _classCallCheck from \"/home/sagnik/pro/_t/themeforest-eupsXMaK-martfury-multipurpose-marketplace-react-ecommerce-template(1)/martfury_react_package_2_1_0/martfury-react-2.1.0/martfury-react-2.1.0/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sagnik/pro/_t/themeforest-eupsXMaK-martfury-multipurpose-marketplace-react-ecommerce-template(1)/martfury_react_package_2_1_0/martfury-react-2.1.0/martfury-react-2.1.0/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/sagnik/pro/_t/themeforest-eupsXMaK-martfury-multipurpose-marketplace-react-ecommerce-template(1)/martfury_react_package_2_1_0/martfury-react-2.1.0/martfury-react-2.1.0/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/sagnik/pro/_t/themeforest-eupsXMaK-martfury-multipurpose-marketplace-react-ecommerce-template(1)/martfury_react_package_2_1_0/martfury-react-2.1.0/martfury-react-2.1.0/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/sagnik/pro/_t/themeforest-eupsXMaK-martfury-multipurpose-marketplace-react-ecommerce-template(1)/martfury_react_package_2_1_0/martfury-react-2.1.0/martfury-react-2.1.0/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/sagnik/pro/_t/themeforest-eupsXMaK-martfury-multipurpose-marketplace-react-ecommerce-template(1)/martfury_react_package_2_1_0/martfury-react-2.1.0/martfury-react-2.1.0/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/home/sagnik/pro/_t/themeforest-eupsXMaK-martfury-multipurpose-marketplace-react-ecommerce-template(1)/martfury_react_package_2_1_0/martfury-react-2.1.0/martfury-react-2.1.0/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { getProductsByKeyword } from '../../../store/product/action';\nimport ProductResult from '../../elements/products/ProductSearchResult';\nimport { connect } from 'react-redux';\n\nvar PanelSearch = /*#__PURE__*/function (_Component) {\n  _inherits(PanelSearch, _Component);\n\n  var _super = _createSuper(PanelSearch);\n\n  function PanelSearch(props) {\n    var _this;\n\n    _classCallCheck(this, PanelSearch);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"searchByProductName\", function (keyword, object) {\n      var matches = [];\n      var regexp = new RegExp(keyword.toLowerCase(), 'g');\n      object.forEach(function (product) {\n        if (product.title.toLowerCase().match(regexp)) matches.push(product);\n      });\n      return matches;\n    });\n\n    _this.state = {\n      searchPanel: false,\n      searchProducts: [],\n      keyword: ''\n    };\n    return _this;\n  }\n\n  _createClass(PanelSearch, [{\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n      var keyword = this.state.keyword;\n      Router.push(\"/search?keyword=\".concat(keyword));\n    }\n  }, {\n    key: \"handleSearch\",\n    value: function handleSearch(e) {\n      if (e.target.value !== '') {\n        var keyword = e.target.value;\n        this.props.dispatch(getProductsByKeyword(keyword));\n        this.setState({\n          searchPanel: true,\n          keyword: e.target.value\n        });\n      } else {\n        this.setState({\n          searchPanel: false,\n          searchProducts: []\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var searchProducts = this.state.searchProducts;\n      var searchResults = this.props.searchResults;\n      return /*#__PURE__*/_jsxs(\"div\", {\n        className: \"ps-panel__search-results\",\n        children: [/*#__PURE__*/_jsx(\"form\", {\n          className: \"ps-form--search-mobile\",\n          action: \"/\",\n          method: \"get\",\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: \"form-group--nest\",\n            children: [/*#__PURE__*/_jsx(\"input\", {\n              className: \"form-control\",\n              type: \"text\",\n              placeholder: \"Search something...\",\n              onChange: this.handleSearch.bind(this)\n            }), /*#__PURE__*/_jsx(\"button\", {\n              children: /*#__PURE__*/_jsx(\"i\", {\n                className: \"icon-magnifier\"\n              })\n            })]\n          })\n        }), searchResults && searchResults.map(function (product) {\n          return /*#__PURE__*/_jsx(ProductResult, {\n            product: product\n          }, product.id);\n        })]\n      });\n    }\n  }]);\n\n  return PanelSearch;\n}(Component);\n\nexport default connect(function (state) {\n  return state.product;\n})(PanelSearch);","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport PostRepository from '~/repositories/PostRepository';\nimport PostGrid from '~/components/elements/post/PostGrid';\nimport CustomPagination from '~/components/elements/common/CustomPagination';\nimport PostSmallThumbnail from '~/components/elements/post/PostSmallThumbnail';\nimport Sidebar from '~/components/partials/blog/modules/Sidebar';\nimport WidgetBlogSearch from '~/components/shared/widgets/WidgetBlogSearch';\nimport WidgetBlogCategories from '~/components/shared/widgets/WidgetBlogCategories';\nimport WidgetBlogRecentPosts from '~/components/shared/widgets/WidgetBlogRecentPosts';\nimport WidgetBlogRecentComments from '~/components/shared/widgets/WidgetBlogRecentComments';\n\nconst BlogItemsSmallThumbView = ({\n  collectionSlug,\n  columns,\n  layout\n}) => {\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const {\n    0: posts,\n    1: setPosts\n  } = useState(null);\n\n  async function getPosts() {\n    let queries, APIPosts;\n\n    if (collectionSlug !== undefined) {\n      queries = {\n        slug_eq: collectionSlug\n      };\n      APIPosts = await PostRepository.getPostsByCollectionSlug(queries);\n    } else {\n      queries = {\n        _limit: 6\n      };\n      APIPosts = await PostRepository.getPosts(queries);\n    }\n\n    if (APIPosts) {\n      setTimeout(function () {\n        setLoading(false);\n      }, 200);\n      setPosts(APIPosts);\n      return APIPosts;\n    } else {\n      setPosts(null);\n      return null;\n    }\n  }\n\n  useEffect(() => {\n    getPosts();\n  }, []);\n  let postItemsView;\n\n  if (!loading && posts) {\n    postItemsView = posts.map(item => {\n      if (columns === 4) {\n        return /*#__PURE__*/_jsx(\"div\", {\n          className: \" col-md-4 col-sm-6\",\n          children: /*#__PURE__*/_jsx(PostGrid, {\n            post: item\n          })\n        }, item.id);\n      } else if (columns === 4) {\n        return /*#__PURE__*/_jsx(\"div\", {\n          className: \"col-lg-3 col-md-4 col-sm-6\",\n          children: /*#__PURE__*/_jsx(PostGrid, {\n            post: item\n          })\n        }, item.id);\n      } else {\n        return /*#__PURE__*/_jsx(\"div\", {\n          className: \"col-md-6\",\n          children: /*#__PURE__*/_jsx(PostGrid, {\n            post: item\n          })\n        }, item.id);\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: layout === 'left' ? 'ps-blog--sidebar reverse' : 'ps-blog--sidebar',\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: \"ps-blog__left\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"row\",\n        children: postItemsView\n      }), /*#__PURE__*/_jsx(CustomPagination, {})]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"ps-blog__right\",\n      children: [/*#__PURE__*/_jsx(WidgetBlogSearch, {}), /*#__PURE__*/_jsx(WidgetBlogCategories, {}), /*#__PURE__*/_jsx(WidgetBlogRecentPosts, {}), /*#__PURE__*/_jsx(WidgetBlogRecentComments, {})]\n    })]\n  });\n};\n\nexport default BlogItemsSmallThumbView;","map":null,"metadata":{},"sourceType":"module"}
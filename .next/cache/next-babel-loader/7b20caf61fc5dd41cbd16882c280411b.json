{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport SkeletonProduct from '~/components/elements/skeletons/SkeletonProduct';\nimport { getProductsByCollectionHelper } from '~/utilities/strapi-fetch-data-helpers';\nimport { generateTempArray } from '~/utilities/common-helpers';\nimport { ProductGroupWithCarousel } from '~/components/partials/product/ProductGroupWithCarousel';\n\nconst HomeDefaultProductListing = ({\n  collectionSlug,\n  title\n}) => {\n  const {\n    0: productItems,\n    1: setProductItems\n  } = useState(null);\n  const {\n    0: currentCollection,\n    1: setCurrentCollection\n  } = useState('new-arrivals');\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const sectionLinks = [{\n    title: 'New Arrivals',\n    name: 'new-arrivals',\n    slug: collectionSlug\n  }, {\n    title: 'Best seller',\n    name: 'best-seller',\n    slug: 'fullwidth-clothing-best-sellers'\n  }, {\n    title: 'Most Popular',\n    name: 'most-popular',\n    slug: 'fullwidth-clothing-most-popular'\n  }];\n\n  async function getProducts(slug) {\n    setLoading(true);\n    const responseData = await getProductsByCollectionHelper(slug);\n\n    if (responseData) {\n      setProductItems(responseData.items);\n      setTimeout(function () {\n        setLoading(false);\n      }.bind(this), 250);\n    }\n  }\n\n  function handleChangeTab(e, tab) {\n    e.preventDefault();\n    setCurrentCollection(tab.name);\n    getProducts(tab.slug);\n  }\n\n  useEffect(() => {\n    getProducts(collectionSlug);\n  }, [collectionSlug]);\n  const sectionLinksView = sectionLinks.map(link => /*#__PURE__*/_jsx(\"li\", {\n    className: currentCollection === link.name ? 'active' : '',\n    children: /*#__PURE__*/_jsx(\"a\", {\n      href: \"#\",\n      onClick: e => handleChangeTab(e, link),\n      children: link.title\n    })\n  }, link.name)); // views\n\n  let productItemsView;\n\n  if (!loading) {\n    if (productItems && productItems.length > 0) {\n      productItemsView = /*#__PURE__*/_jsx(ProductGroupWithCarousel, {\n        products: productItems,\n        type: \"fullwidth\"\n      });\n    } else {\n      productItemsView = /*#__PURE__*/_jsx(\"p\", {\n        children: \"No product(s) found.\"\n      });\n    }\n  } else {\n    const skeletons = generateTempArray(6).map(item => /*#__PURE__*/_jsx(\"div\", {\n      className: \"col-xl-2 col-lg-3 col-sm-3 col-6\",\n      children: /*#__PURE__*/_jsx(SkeletonProduct, {})\n    }, item));\n    productItemsView = /*#__PURE__*/_jsx(\"div\", {\n      className: \"row\",\n      children: skeletons\n    });\n  }\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: \"ps-product-list\",\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: \"ps-container\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"ps-section__header\",\n        children: [/*#__PURE__*/_jsx(\"h3\", {\n          children: title\n        }), /*#__PURE__*/_jsxs(\"ul\", {\n          className: \"ps-section__links\",\n          children: [sectionLinksView, /*#__PURE__*/_jsx(\"li\", {\n            children: /*#__PURE__*/_jsx(Link, {\n              href: `/shop`,\n              children: /*#__PURE__*/_jsx(\"a\", {\n                children: \"View All\"\n              })\n            })\n          })]\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"ps-section__content\",\n        children: productItemsView\n      })]\n    })\n  });\n};\n\nexport default HomeDefaultProductListing;","map":null,"metadata":{},"sourceType":"module"}
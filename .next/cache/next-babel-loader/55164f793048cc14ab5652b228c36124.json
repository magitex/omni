{"ast":null,"code":"import _classCallCheck from \"/home/sagnik/pro/_t/themeforest-eupsXMaK-martfury-multipurpose-marketplace-react-ecommerce-template(1)/martfury_react_package_2_1_0/martfury-react-2.1.0/martfury-react-2.1.0/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sagnik/pro/_t/themeforest-eupsXMaK-martfury-multipurpose-marketplace-react-ecommerce-template(1)/martfury_react_package_2_1_0/martfury-react-2.1.0/martfury-react-2.1.0/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/sagnik/pro/_t/themeforest-eupsXMaK-martfury-multipurpose-marketplace-react-ecommerce-template(1)/martfury_react_package_2_1_0/martfury-react-2.1.0/martfury-react-2.1.0/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/sagnik/pro/_t/themeforest-eupsXMaK-martfury-multipurpose-marketplace-react-ecommerce-template(1)/martfury_react_package_2_1_0/martfury-react-2.1.0/martfury-react-2.1.0/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/sagnik/pro/_t/themeforest-eupsXMaK-martfury-multipurpose-marketplace-react-ecommerce-template(1)/martfury_react_package_2_1_0/martfury-react-2.1.0/martfury-react-2.1.0/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/sagnik/pro/_t/themeforest-eupsXMaK-martfury-multipurpose-marketplace-react-ecommerce-template(1)/martfury_react_package_2_1_0/martfury-react-2.1.0/martfury-react-2.1.0/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/home/sagnik/pro/_t/themeforest-eupsXMaK-martfury-multipurpose-marketplace-react-ecommerce-template(1)/martfury_react_package_2_1_0/martfury-react-2.1.0/martfury-react-2.1.0/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/sagnik/pro/_t/themeforest-eupsXMaK-martfury-multipurpose-marketplace-react-ecommerce-template(1)/martfury_react_package_2_1_0/martfury-react-2.1.0/martfury-react-2.1.0/components/shared/panel/PanelSearch.jsx\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { getProductsByKeyword } from '../../../store/product/action';\nimport ProductResult from '../../elements/products/ProductSearchResult';\nimport { connect } from 'react-redux';\n\nvar PanelSearch = /*#__PURE__*/function (_Component) {\n  _inherits(PanelSearch, _Component);\n\n  var _super = _createSuper(PanelSearch);\n\n  function PanelSearch(props) {\n    var _this;\n\n    _classCallCheck(this, PanelSearch);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"searchByProductName\", function (keyword, object) {\n      var matches = [];\n      var regexp = new RegExp(keyword.toLowerCase(), 'g');\n      object.forEach(function (product) {\n        if (product.title.toLowerCase().match(regexp)) matches.push(product);\n      });\n      return matches;\n    });\n\n    _this.state = {\n      searchPanel: false,\n      searchProducts: [],\n      keyword: ''\n    };\n    return _this;\n  }\n\n  _createClass(PanelSearch, [{\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n      var keyword = this.state.keyword;\n      Router.push(\"/search?keyword=\".concat(keyword));\n    }\n  }, {\n    key: \"handleSearch\",\n    value: function handleSearch(e) {\n      if (e.target.value !== '') {\n        var keyword = e.target.value;\n        this.props.dispatch(getProductsByKeyword(keyword));\n        this.setState({\n          searchPanel: true,\n          keyword: e.target.value\n        });\n      } else {\n        this.setState({\n          searchPanel: false,\n          searchProducts: []\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var searchProducts = this.state.searchProducts;\n      var searchResults = this.props.searchResults;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ps-panel__search-results\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"ps-form--search-mobile\",\n          action: \"/\",\n          method: \"get\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group--nest\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\",\n              type: \"text\",\n              placeholder: \"Search something...\",\n              onChange: this.handleSearch.bind(this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"icon-magnifier\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }, this), searchResults && searchResults.map(function (product) {\n          return /*#__PURE__*/_jsxDEV(ProductResult, {\n            product: product\n          }, product.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, _this2);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this);\n    }\n  }]);\n\n  return PanelSearch;\n}(Component);\n\nexport default connect(function (state) {\n  return state.product;\n})(PanelSearch);","map":{"version":3,"sources":["/home/sagnik/pro/_t/themeforest-eupsXMaK-martfury-multipurpose-marketplace-react-ecommerce-template(1)/martfury_react_package_2_1_0/martfury-react-2.1.0/martfury-react-2.1.0/components/shared/panel/PanelSearch.jsx"],"names":["React","Component","getProductsByKeyword","ProductResult","connect","PanelSearch","props","keyword","object","matches","regexp","RegExp","toLowerCase","forEach","product","title","match","push","state","searchPanel","searchProducts","e","preventDefault","Router","target","value","dispatch","setState","searchResults","handleSearch","bind","map","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { getProductsByKeyword } from '../../../store/product/action';\nimport ProductResult from '../../elements/products/ProductSearchResult';\nimport { connect } from 'react-redux';\n\nclass PanelSearch extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            searchPanel: false,\n            searchProducts: [],\n            keyword: '',\n        };\n    }\n\n    searchByProductName = (keyword, object) => {\n        let matches = [];\n        let regexp = new RegExp(keyword.toLowerCase(), 'g');\n\n        object.forEach((product) => {\n            if (product.title.toLowerCase().match(regexp))\n                matches.push(product);\n        });\n\n        return matches;\n    };\n\n    handleSubmit(e) {\n        e.preventDefault();\n        const keyword = this.state.keyword;\n        Router.push(`/search?keyword=${keyword}`);\n    }\n    handleSearch(e) {\n        if (e.target.value !== '') {\n            const keyword = e.target.value;\n            this.props.dispatch(getProductsByKeyword(keyword));\n            this.setState({\n                searchPanel: true,\n                keyword: e.target.value,\n            });\n        } else {\n            this.setState({ searchPanel: false, searchProducts: [] });\n        }\n    }\n    render() {\n        const { searchProducts } = this.state;\n        const { searchResults } = this.props;\n        return (\n            <div className=\"ps-panel__search-results\">\n                <form\n                    className=\"ps-form--search-mobile\"\n                    action=\"/\"\n                    method=\"get\">\n                    <div className=\"form-group--nest\">\n                        <input\n                            className=\"form-control\"\n                            type=\"text\"\n                            placeholder=\"Search something...\"\n                            onChange={this.handleSearch.bind(this)}\n                        />\n                        <button>\n                            <i className=\"icon-magnifier\"></i>\n                        </button>\n                    </div>\n                </form>\n                {searchResults &&\n                    searchResults.map((product) => (\n                        <ProductResult product={product} key={product.id} />\n                    ))}\n            </div>\n        );\n    }\n}\n\nexport default connect((state) => state.product)(PanelSearch);\n"]},"metadata":{},"sourceType":"module"}